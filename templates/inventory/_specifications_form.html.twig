{% if category.hasSpecifications %}
<div class="card card-body border-info mb-3">
    <h5 class="card-title text-info">
        <i class="bi bi-gear"></i> {{ 'inventory_item.specifications.title'|trans }}
    </h5>

    <p class="text-muted small mb-3">
        {{ 'inventory_item.specifications.description'|trans({'%category%': category.value|trans({}, 'inventory_category')}) }}
        <span class="text-danger">*</span> - {{ 'inventory_item.specifications.required_field'|trans }}.
    </p>

    <div class="row g-3">
        {% for spec_key in category.allowedSpecifications %}
            {% set is_required = spec_key in category.requiredSpecifications %}

            <div class="col-md-6">
                <label for="spec_{{ spec_key }}"
                       class="form-label{% if is_required %} required-field{% endif %}">
                    {{ ('inventory_item.spec_labels.' ~ spec_key)|default(spec_key|replace({'_': ' '})|title)|trans }}
                </label>

                <input type="text"
                       class="form-control spec-input{% if is_required and not (specifications[spec_key] ?? null) %} is-invalid{% endif %}"
                       id="spec_{{ spec_key }}"
                       name="spec_{{ spec_key }}"
                       value="{{ specifications[spec_key] ?? '' }}"
                       placeholder="{{ 'form.validation.placeholder'|trans({'%label%': ('inventory_item.spec_labels.' ~ spec_key)|default(spec_key)|lower|trans}) }}"
                       {% if is_required %}required{% endif %}>

                {% if is_required %}
                    <div class="invalid-feedback">
                        {{ 'inventory_item.validation.required'|trans }}
                    </div>
                {% endif %}
            </div>
        {% endfor %}
    </div>

    <div class="mt-3 alert alert-warning small">
        <i class="bi bi-info-circle"></i>
        {{ 'inventory_item.specifications.history_note'|trans }}
    </div>
</div>
{% else %}
<div class="alert alert-info">
    <i class="bi bi-info-circle"></i>
    {{ 'inventory_item.specifications.no_specs'|trans }}
</div>
{% endif %}